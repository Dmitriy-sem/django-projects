(this.webpackJsonptesthooks=this.webpackJsonptesthooks||[]).push([[0],{11:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),a=n(5),r=n.n(a),i=(n(11),n(6)),s=n(4),d=c.a.createContext(),u=n(0);var l=function(e){var t=e.todos,n=t.pk,c=t.title,a=t.is_done,r=Object(o.useContext)(d),i=r.removeTodo,s=r.toggleTodo,l="todo";return a&&(l+=" is_done"),Object(u.jsx)("li",{className:l,children:Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"checkbox",checked:a,onChange:function(){return s(n)}}),Object(u.jsx)("span",{children:c}),Object(u.jsx)("i",{className:"fas fa-trash",onClick:function(){return i(n)}})]})})};var h=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(""),r=Object(s.a)(a,2),h=r[0],f=r[1],j=function(e){if("Enter"===e.key){var t;try{t=n[n.length-1].pk+1}catch(e){t=1}var o={pk:t,title:h,is_done:!1};fetch("http://127.0.0.1:8000/api/task-create/",{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":p("csrftoken")},body:JSON.stringify(o)}),f("")}};function p(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var c=n[o].trim();if(c.substring(0,e.length+1)===e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t}function b(e){var t=JSON.stringify({is_done:function(){var t,o=Object(i.a)(n);try{for(o.s();!(t=o.n()).done;){var c=t.value;if(c.pk===e)return!c.is_done}}catch(a){o.e(a)}finally{o.f()}return!0}()});fetch("http://127.0.0.1:8000/api/task-update/".concat(e,"/"),{method:"PATCH",headers:{"Content-type":"application/json","X-CSRFToken":p("csrftoken")},body:t})}return Object(o.useEffect)((function(){fetch("http://127.0.0.1:8000/api/task-list/").then((function(e){return e.json()})).then((function(e){return c(e)}))}),[b,j]),Object(u.jsx)(d.Provider,{value:{removeTodo:function(e){fetch("http://127.0.0.1:8000/api/task-delete/".concat(e,"/"),{method:"DELETE",headers:{"Content-type":"application/json","X-CSRFToken":p("csrftoken")}})},toggleTodo:b},children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{children:"Todo app"}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("input",{type:"text",value:h,onChange:function(e){return f(e.target.value)},onKeyPress:j}),Object(u.jsx)("label",{children:"Todo name"})]}),Object(u.jsx)("ul",{children:n.map((function(e){return Object(u.jsx)(l,{todos:e},e.pk)}))})]})})};n(13),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(u.jsx)(h,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.a3c0e66f.chunk.js.map